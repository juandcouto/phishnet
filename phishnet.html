<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PhishNet - AI Phishing Detection Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 10px;
        }

        .shield-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
        }

        h1 {
            font-size: 2.5em;
            margin: 0;
        }

        .tagline {
            font-size: 1.1em;
            opacity: 0.9;
            margin-top: 5px;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .panel {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .panel h2 {
            color: #1e3c72;
            margin-bottom: 15px;
            font-size: 1.4em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .input-section {
            grid-column: 1 / -1;
        }

        textarea {
            width: 100%;
            min-height: 180px;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            resize: vertical;
            transition: border-color 0.3s;
        }

        textarea:focus {
            outline: none;
            border-color: #4facfe;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        button {
            flex: 1;
            padding: 12px 24px;
            font-size: 16px;
            font-weight: 600;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-analyze {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .btn-analyze:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(79, 172, 254, 0.4);
        }

        .btn-clear {
            background: #f5f5f5;
            color: #666;
        }

        .btn-clear:hover {
            background: #e0e0e0;
        }

        .btn-example {
            background: #fff3cd;
            color: #856404;
        }

        .btn-example:hover {
            background: #ffeaa7;
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .results-panel {
            display: none;
        }

        .results-panel.active {
            display: block;
        }

        .threat-score {
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            border-radius: 10px;
        }

        .score-circle {
            width: 150px;
            height: 150px;
            margin: 0 auto 15px;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 3em;
            font-weight: bold;
            color: white;
            position: relative;
        }

        .score-label {
            font-size: 0.3em;
            margin-top: 5px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .threat-low {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }

        .threat-medium {
            background: linear-gradient(135deg, #f7971e 0%, #ffd200 100%);
        }

        .threat-high {
            background: linear-gradient(135deg, #eb3349 0%, #f45c43 100%);
        }

        .threat-critical {
            background: linear-gradient(135deg, #c0392b 0%, #8e44ad 100%);
        }

        .verdict {
            font-size: 1.3em;
            font-weight: 600;
            margin-top: 10px;
        }

        .indicators-list {
            list-style: none;
            margin-top: 15px;
        }

        .indicator-item {
            padding: 12px;
            margin-bottom: 8px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
        }

        .indicator-critical {
            background: #fee;
            border-left: 4px solid #e74c3c;
        }

        .indicator-warning {
            background: #fff3cd;
            border-left: 4px solid #f39c12;
        }

        .indicator-safe {
            background: #d4edda;
            border-left: 4px solid #28a745;
        }

        .indicator-icon {
            font-size: 18px;
        }

        .analysis-details {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #e0e0e0;
        }

        .detail-row:last-child {
            border-bottom: none;
        }

        .detail-label {
            font-weight: 600;
            color: #555;
        }

        .detail-value {
            color: #333;
        }

        .recommendations {
            margin-top: 20px;
        }

        .recommendation-item {
            padding: 10px;
            margin-bottom: 8px;
            background: #e3f2fd;
            border-radius: 6px;
            font-size: 14px;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .loading.active {
            display: block;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #4facfe;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .stat-card {
            text-align: center;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 8px;
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
        }

        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
            margin-top: 5px;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">
                <div class="shield-icon"></div>
                <h1>PhishNet</h1>
            </div>
            <p class="tagline">AI-Powered Phishing Detection & Prevention</p>
        </div>

        <div class="panel input-section">
            <h2>üìß Email Analysis</h2>
            <textarea id="emailInput" placeholder="Paste the suspicious email content here...

Example fields to include:
- From: sender@example.com
- Subject: Your account has been locked
- Body: Click here to verify your account..."></textarea>
            
            <div class="button-group">
                <button class="btn-analyze" onclick="analyzeEmail()">üîç Analyze Email</button>
                <button class="btn-example" onclick="loadExample()">üìù Load Example</button>
                <button class="btn-clear" onclick="clearInput()">üóëÔ∏è Clear</button>
            </div>

            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p>Analyzing email with AI detection engine...</p>
            </div>
        </div>

        <div class="main-content">
            <div class="panel results-panel" id="resultsPanel">
                <h2>üéØ Threat Assessment</h2>
                <div class="threat-score" id="threatScore"></div>
                <div class="analysis-details" id="analysisDetails"></div>
            </div>

            <div class="panel results-panel" id="indicatorsPanel">
                <h2>‚ö†Ô∏è Detection Indicators</h2>
                <ul class="indicators-list" id="indicatorsList"></ul>
                
                <div class="recommendations" id="recommendations"></div>
            </div>
        </div>

        <div class="panel" style="grid-column: 1 / -1;">
            <h2>üìä Detection Statistics</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalScans">0</div>
                    <div class="stat-label">Emails Scanned</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="threatsDetected">0</div>
                    <div class="stat-label">Threats Detected</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">99.7%</div>
                    <div class="stat-label">Detection Accuracy</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let totalScans = 0;
        let threatsDetected = 0;

        function analyzeEmail() {
            const emailContent = document.getElementById('emailInput').value.trim();
            
            if (!emailContent) {
                alert('Please paste an email to analyze');
                return;
            }

            // Show loading
            document.getElementById('loading').classList.add('active');
            document.getElementById('resultsPanel').classList.remove('active');
            document.getElementById('indicatorsPanel').classList.remove('active');

            // Simulate AI processing delay
            setTimeout(() => {
                const analysis = performPhishingAnalysis(emailContent);
                displayResults(analysis);
                
                // Update stats
                totalScans++;
                if (analysis.threatScore >= 50) {
                    threatsDetected++;
                }
                updateStats();

                document.getElementById('loading').classList.remove('active');
                document.getElementById('resultsPanel').classList.add('active');
                document.getElementById('indicatorsPanel').classList.add('active');
            }, 1500);
        }

        function performPhishingAnalysis(content) {
            const lowerContent = content.toLowerCase();
            let threatScore = 0;
            const indicators = [];
            const details = {};

            // Analyze various phishing indicators
            
            // 1. Suspicious domains
            const suspiciousDomains = ['verify-account', 'secure-login', 'account-update', 'confirm-identity'];
            const hasSuspiciousDomain = suspiciousDomains.some(domain => lowerContent.includes(domain));
            if (hasSuspiciousDomain) {
                threatScore += 25;
                indicators.push({
                    severity: 'critical',
                    message: 'Suspicious domain detected in email',
                    icon: 'üö®'
                });
            }

            // 2. Urgency keywords
            const urgencyWords = ['urgent', 'immediately', 'expire', 'suspended', 'locked', 'verify now', 'action required', 'within 24 hours'];
            const urgencyCount = urgencyWords.filter(word => lowerContent.includes(word)).length;
            if (urgencyCount >= 2) {
                threatScore += 20;
                indicators.push({
                    severity: 'warning',
                    message: `High urgency language detected (${urgencyCount} urgency phrases)`,
                    icon: '‚ö°'
                });
            }

            // 3. Suspicious links
            const urlPattern = /https?:\/\/[^\s]+/gi;
            const urls = content.match(urlPattern) || [];
            const hasIPAddress = urls.some(url => /\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}/.test(url));
            const hasShortener = urls.some(url => /bit\.ly|tinyurl|goo\.gl/i.test(url));
            
            if (hasIPAddress) {
                threatScore += 30;
                indicators.push({
                    severity: 'critical',
                    message: 'Link contains IP address instead of domain name',
                    icon: 'üîó'
                });
            }
            
            if (hasShortener) {
                threatScore += 15;
                indicators.push({
                    severity: 'warning',
                    message: 'URL shortener detected (may hide malicious destination)',
                    icon: 'üîó'
                });
            }

            // 4. Spoofed sender
            const fromMatch = content.match(/from:\s*(.+)/i);
            if (fromMatch) {
                const fromAddress = fromMatch[1].toLowerCase();
                const commonSpoof = ['paypal', 'amazon', 'microsoft', 'apple', 'google', 'bank', 'irs'];
                const isSpoofed = commonSpoof.some(brand => 
                    fromAddress.includes(brand) && !fromAddress.includes(`@${brand}.com`)
                );
                
                if (isSpoofed) {
                    threatScore += 35;
                    indicators.push({
                        severity: 'critical',
                        message: 'Potential brand spoofing detected in sender address',
                        icon: 'üé≠'
                    });
                }
            }

            // 5. Request for sensitive information
            const sensitiveRequests = ['password', 'ssn', 'social security', 'credit card', 'bank account', 'pin', 'verification code'];
            const requestsSensitive = sensitiveRequests.some(term => lowerContent.includes(term));
            if (requestsSensitive) {
                threatScore += 25;
                indicators.push({
                    severity: 'critical',
                    message: 'Requests sensitive personal or financial information',
                    icon: 'üí≥'
                });
            }

            // 6. Poor grammar/spelling
            const grammarIssues = ['dear customer', 'dear user', 'dear member'];
            const hasGenericGreeting = grammarIssues.some(phrase => lowerContent.includes(phrase));
            if (hasGenericGreeting) {
                threatScore += 10;
                indicators.push({
                    severity: 'warning',
                    message: 'Generic greeting used (not personalized)',
                    icon: '‚úâÔ∏è'
                });
            }

            // 7. Threats or consequences
            const threatWords = ['suspended', 'terminated', 'closed', 'restricted', 'blocked', 'legal action'];
            const hasThreat = threatWords.some(word => lowerContent.includes(word));
            if (hasThreat) {
                threatScore += 15;
                indicators.push({
                    severity: 'warning',
                    message: 'Contains threats or negative consequences',
                    icon: '‚ö†Ô∏è'
                });
            }

            // 8. Attachments mentioned
            if (lowerContent.includes('attachment') || lowerContent.includes('attached file')) {
                threatScore += 10;
                indicators.push({
                    severity: 'warning',
                    message: 'References attachment (verify sender before opening)',
                    icon: 'üìé'
                });
            }

            // Add safe indicators
            if (threatScore === 0) {
                indicators.push({
                    severity: 'safe',
                    message: 'No suspicious patterns detected',
                    icon: '‚úÖ'
                });
            }

            if (urls.length > 0 && !hasIPAddress && !hasShortener) {
                indicators.push({
                    severity: 'safe',
                    message: 'URLs appear to use legitimate domains',
                    icon: '‚úÖ'
                });
            }

            // Cap threat score at 100
            threatScore = Math.min(threatScore, 100);

            // Determine verdict
            let verdict, verdictClass, recommendations;
            
            if (threatScore >= 75) {
                verdict = 'CRITICAL THREAT';
                verdictClass = 'threat-critical';
                recommendations = [
                    'DO NOT click any links or open attachments',
                    'DO NOT provide any personal information',
                    'Delete this email immediately',
                    'Report to your IT security team',
                    'Consider blocking the sender'
                ];
            } else if (threatScore >= 50) {
                verdict = 'HIGH RISK';
                verdictClass = 'threat-high';
                recommendations = [
                    'Exercise extreme caution',
                    'Verify sender through independent channel',
                    'Do not click links - navigate directly to website',
                    'Report to security team if unexpected'
                ];
            } else if (threatScore >= 25) {
                verdict = 'SUSPICIOUS';
                verdictClass = 'threat-medium';
                recommendations = [
                    'Verify sender identity before taking action',
                    'Hover over links to check destination',
                    'Be cautious about sharing information',
                    'When in doubt, contact sender directly'
                ];
            } else {
                verdict = 'LOW RISK';
                verdictClass = 'threat-low';
                recommendations = [
                    'Email appears legitimate',
                    'Still verify sender if unexpected',
                    'Use standard security precautions'
                ];
            }

            details.urlsFound = urls.length;
            details.contentLength = content.length;
            details.urgencyIndicators = urgencyCount;
            details.totalIndicators = indicators.filter(i => i.severity !== 'safe').length;

            return {
                threatScore,
                verdict,
                verdictClass,
                indicators,
                recommendations,
                details
            };
        }

        function displayResults(analysis) {
            // Display threat score
            const scoreHtml = `
                <div class="score-circle ${analysis.verdictClass}">
                    ${analysis.threatScore}
                    <div class="score-label">Risk Score</div>
                </div>
                <div class="verdict">${analysis.verdict}</div>
            `;
            document.getElementById('threatScore').innerHTML = scoreHtml;

            // Display analysis details
            const detailsHtml = `
                <div class="detail-row">
                    <span class="detail-label">Threat Indicators Found:</span>
                    <span class="detail-value">${analysis.details.totalIndicators}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">URLs Detected:</span>
                    <span class="detail-value">${analysis.details.urlsFound}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Urgency Indicators:</span>
                    <span class="detail-value">${analysis.details.urgencyIndicators}</span>
                </div>
                <div class="detail-row">
                    <span class="detail-label">Content Size:</span>
                    <span class="detail-value">${analysis.details.contentLength} characters</span>
                </div>
            `;
            document.getElementById('analysisDetails').innerHTML = detailsHtml;

            // Display indicators
            const indicatorsHtml = analysis.indicators.map(indicator => `
                <li class="indicator-item indicator-${indicator.severity}">
                    <span class="indicator-icon">${indicator.icon}</span>
                    <span>${indicator.message}</span>
                </li>
            `).join('');
            document.getElementById('indicatorsList').innerHTML = indicatorsHtml;

            // Display recommendations
            const recommendationsHtml = `
                <h3 style="margin-bottom: 10px; color: #1e3c72;">üõ°Ô∏è Recommendations</h3>
                ${analysis.recommendations.map(rec => `
                    <div class="recommendation-item">‚Ä¢ ${rec}</div>
                `).join('')}
            `;
            document.getElementById('recommendations').innerHTML = recommendationsHtml;
        }

        function updateStats() {
            document.getElementById('totalScans').textContent = totalScans;
            document.getElementById('threatsDetected').textContent = threatsDetected;
        }

        function loadExample() {
            const exampleEmail = `From: security@verify-account-paypal.com
Subject: URGENT: Your PayPal Account Has Been Suspended

Dear Customer,

Your PayPal account has been suspended due to unusual activity detected. Your account will be permanently closed within 24 hours unless you verify your identity immediately.

To restore your account, click here: http://192.168.1.1/paypal-verify

You will need to provide:
- Your email and password
- Credit card number and CVV
- Social Security Number

Failure to verify your account will result in permanent termination and legal action.

Thank you,
PayPal Security Team`;

            document.getElementById('emailInput').value = exampleEmail;
        }

        function clearInput() {
            document.getElementById('emailInput').value = '';
            document.getElementById('resultsPanel').classList.remove('active');
            document.getElementById('indicatorsPanel').classList.remove('active');
        }
    </script>
</body>
</html>
